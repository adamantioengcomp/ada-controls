angular.module("ada-controls",[]).value("activeFocus",{field:void 0}).directive("control",["$window","activeFocus",function(t,e){return{restrict:"A",link:function(t,i,r){i.focus(function(){e.field=this})}}}]).provider("adaControl",[function(){var t=function(t){return!1};this.useFieldCheckFunction=function(e){t=e},this.$get=["activeFocus",function(e){var i=function(t){return!t.hasAttribute("disabled")&&$(t).is(":visible")};return{getActiveFocus:function(){return e.field},setActiveFocus:function(t){"string"==typeof t&&(t=$(t)),t&&(e.field=t,t.focus())},isFirstControl:function(t){return t||(t=e.field),"string"==typeof t&&(t=$(t)),this.getFirstControl()===t},isLastControl:function(t){return t||(t=e.field),"string"==typeof t&&(t=$(t)),this.getLastControl()===t},getLastControl:function(t){var e=$("[control]");if(!e)return void 0;if(0==t)return e[e.length-1];if(i(e[e.length-1]))return e[e.length-1];var r={};return r.baseField=e[e.length-1],r.stopOnLast=!0,r.reverse=!0,r.validateField=t,this.getNextControl(r)},getFirstControl:function(t){var e=$("[control]");if(!e)return void 0;if(0==t)return e[0];if(i(e[0]))return e[0];var r={};return r.baseField=e[0],r.stopOnLast=!0,r.reverse=!1,r.validateField=t,this.getNextControl(r)},firstControl:function(t){var e=this.getFirstControl(t);e&&e.focus()},lastControl:function(t){var e=this.getLastControl(t);e&&e.focus()},getNextControl:function(r){var n=r&&r.baseField?r.baseField:e.field;if(this.isLastControl(r&&r.baseField?r.baseField:void 0)){if(r&&r.stopOnLast)return null;n=void 0}var o=$("[control]");if(!n||n&&!n.hasAttribute("control"))return r&&r.reverse?this.getLastControl(r?r.validateField:void 0):this.getFirstControl(r?r.validateField:void 0);var s=!1;for(var l in o)if(o[l]&&o[l]===n||s){var u=r&&r.reverse?o[Number(l)-1]:o[Number(l)+1];if(u){var a=t(n)||u;if(r&&r.validateField===!1||i(a))return a;s=!0}}},nextControl:function(t){var e=this.getNextControl(t);e&&e.focus()}}}]}]);