angular.module("ada-controls",[]).value("activeFocus",{field:void 0}).directive("control",["$window","activeFocus",function(t,e){return{restrict:"A",link:function(t,r,i){r.focus(function(){e.field=this})}}}]).provider("adaControl",[function(){var t=function(t){return!1};this.useFieldCheckFunction=function(e){t=e},this.$get=["activeFocus","$timeout",function(e,r){var i=function(t){return!t.hasAttribute("disabled")&&$(t).is(":visible")};return{getActiveFocus:function(){return e.field},setActiveFocus:function(t){"string"==typeof t&&(t=$(t)),t&&(e.field=t,"INPUT"!==t.tagName&&t.querySelector&&(t=t.querySelector("input")),t.focus(),r(function(){(t.querySelector("input")||t).select()},200))},isFirstControl:function(t){return t||(t=e.field),"string"==typeof t&&(t=$(t)),this.getFirstControl()===t},isLastControl:function(t){return t||(t=e.field),"string"==typeof t&&(t=$(t)),this.getLastControl()===t},getLastControl:function(t){var e=$("[control]");if(!e)return void 0;if(0==t)return e[e.length-1];if(i(e[e.length-1]))return e[e.length-1];var r={};return r.baseField=e[e.length-1],r.stopOnLast=!0,r.reverse=!0,r.validateField=t,this.getNextControl(r)},getFirstControl:function(t){var e=$("[control]");if(!e)return void 0;if(0==t)return e[0];if(i(e[0]))return e[0];var r={};return r.baseField=e[0],r.stopOnLast=!0,r.reverse=!1,r.validateField=t,this.getNextControl(r)},firstControl:function(t){var e=this.getFirstControl(t);e&&((e.querySelector("input")||e).focus(),r(function(){(e.querySelector("input")||e).select()},200))},lastControl:function(t){var e=this.getLastControl(t);e&&((e.querySelector("input")||e).focus(),r(function(){(e.querySelector("input")||e).select()},200))},getNextControl:function(r){var n=r&&r.baseField?r.baseField:e.field,o=$("[control]");if(!n||n&&!n.hasAttribute("control"))return r&&r.reverse?this.getLastControl(r?r.validateField:void 0):this.getFirstControl(r?r.validateField:void 0);var l=!1;for(var u in o)if(o[u]&&o[u]===n||l){var s=r&&r.reverse?o[Number(u)-1]:o[Number(u)+1];if(!s)return r&&r.stopOnLast?null:r&&r.reverse?this.getLastControl(r?r.validateField:void 0):this.getFirstControl(r?r.validateField:void 0);var c=t(n)||s;if(r&&r.validateField===!1||i(c))return c;l=!0}},nextControl:function(t){var i=this.getNextControl(t);i&&(e.field=i,i=i.querySelector("input")||i,i.focus(),r(function(){i.select()},200))}}}]}]);